(this.webpackJsonpkanban=this.webpackJsonpkanban||[]).push([[0],{28:function(e,n,t){},29:function(e,n,t){},30:function(e,n,t){},37:function(e,n,t){},38:function(e,n,t){},39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(0),o=t.n(c),a=t(14),d=t.n(a),r=(t(28),t(29),t(16)),i=t(3),s=(t(30),t(1)),u=function(){return Object(s.jsx)("div",{className:"intro",children:Object(s.jsxs)("div",{className:"center-box",children:[Object(s.jsx)("h1",{children:"Sprint To Do"}),Object(s.jsx)(r.b,{to:"/board",children:Object(s.jsx)("button",{children:"Get Started!"})})]})})},l=t(9),j=(t(37),t(8)),b=t(10),m=t(19),f=t(18),p={columns:[{name:"backlog",cards:[{name:"card A",description:"description of Card A",descriptionMd:"<p>description of Card A</p>"},{name:"card D",description:"description of Card D",descriptionMd:"<p>description of Card A</p>"},{name:"card E",description:"description of Card E",descriptionMd:"<p>description of Card A</p>"}]},{name:"In Progress",cards:[{name:"Card B",description:"description of Card B",descriptionMd:"<p>description of Card A</p>"}]},{name:"Done",cards:[{name:"Card C",description:"Description of Card C",descriptionMd:"<p>description of Card A</p>"}]},{name:"Blockers",cards:[{name:"Card F",description:"Description of Card F",descriptionMd:"<p>description of Card A</p>"}]}]};JSON.stringify(p);var x=Object(f.b)({name:"todo",initialState:p,reducers:{addNew:function(e,n){e.columns[n.payload.columnIndex].cards.push({name:"",description:""})},moveCard:function(e,n){var t=Object(m.a)(e.columns),c=n.payload,o=c.columnIndex,a=c.cardIndex,d=c.moveToColumn,r=t[o].cards.splice(a,1),i=Object(l.a)(r,1)[0];t[d].cards.push(i)},editCard:function(e,n){var t=Object(m.a)(e.columns),c=n.payload,o=c.columnIndex,a=c.cardIndex,d=c.title,r=c.description;t[o].cards[a]=Object(b.a)(Object(b.a)({},t[o].cards[a]),{},{name:d,description:r})},deleteCard:function(e,n){var t=Object(m.a)(e.columns),c=n.payload,o=c.columnIndex,a=c.cardIndex;t[o].cards.splice(a,1),console.log(a,o,t[o].cards)},deleteColumn:function(e,n){e.columns.splice(n.payload.columnIndex,1)},addColumn:function(e,n){e.columns.push({name:"column",cards:[]})},editColumn:function(e,n){e.columns[n.payload.columnIndex]=Object(b.a)(Object(b.a)({},e.columns[n.payload.columnIndex]),{},{name:n.payload.name})},updateMd:function(e,n){e.columns[n.payload.columnIndex].cards[n.payload.cardIndex]=Object(b.a)(Object(b.a)({},e.columns[n.payload.columnIndex].cards[n.payload.cardIndex]),{},{descriptionMd:n.payload.descriptionMd})}}}),O=x.reducer,h=x.actions,C=h.addNew,v=h.editCard,g=(h.moveCard,h.deleteCard),I=h.deleteColumn,N=h.addColumn,y=h.editColumn,M=h.updateMd,k=function(e){var n=e.cardIndex,t=e.columnIndex,o=Object(j.c)((function(e){return e.todo})).columns[t].cards[n];console.log(o);var a=Object(j.b)(),d=Object(c.useState)(o.description),r=Object(l.a)(d,2),i=r[0],u=r[1],b=Object(c.useState)(o.name),m=Object(l.a)(b,2),f=m[0],p=m[1],x=Object(c.useState)(!1),O=Object(l.a)(x,2),h=O[0],C=O[1];return Object(c.useEffect)((function(){f||C(!0)}),[f]),Object(c.useEffect)((function(){var e;(e=i)&&fetch("https://api.github.com/markdown",{method:"POST",headers:{"Content-Type":"application/vnd.github.v3+json"},body:JSON.stringify({text:e})}).then((function(e){if("2"===e.status.toString()[0])return e.text()})).then((function(e){a(M(e?{columnIndex:t,cardIndex:n,descriptionMd:e}:{columnIndex:t,cardIndex:n,descriptionMd:i}))})).catch((function(e){console.error("Error: ",e)}))}),[i]),Object(s.jsxs)("div",{className:"card",draggable:!h,onDrag:function(e){console.log(e)},onDragEnd:function(e){console.log(e)},children:[Object(s.jsxs)("div",{className:"cardhead",children:[h?Object(s.jsx)("button",{onClick:function(){a(v({cardIndex:n,columnIndex:t,title:f,description:i})),C(!1)},children:Object(s.jsx)("i",{className:"fa-regular fa-check"})}):Object(s.jsx)("button",{onClick:function(){return C(!0)},children:Object(s.jsx)("i",{className:"fa-regular fa-pen"})}),h?Object(s.jsx)("input",{name:"title",type:"text",value:f,onChange:function(e){return p(e.target.value)}}):Object(s.jsx)("h4",{children:o.name}),h?Object(s.jsx)("button",{onClick:function(){return C(!1)},children:Object(s.jsx)("i",{className:"fa-regular fa-times"})}):Object(s.jsx)("button",{onClick:function(){a(g({cardIndex:n,columnIndex:t}))},children:Object(s.jsx)("i",{className:"fa-regular fa-trash"})})]}),Object(s.jsx)("br",{}),h?Object(s.jsx)("textarea",{placeholder:"Edit your Markdown Here",className:"textarea",rows:"10",value:i,onChange:function(e){return u(e.target.value)}}):Object(s.jsx)("div",{dangerouslySetInnerHTML:{__html:o.descriptionMd}})]})},S=(t(38),function(e){var n=e.columnIndex,t=e.onMoveLeft,o=e.onMoveRight,a=e.onEdit,d=Object(j.c)((function(e){return e.todo.columns[n]})),r=Object(c.useState)(!1),i=Object(l.a)(r,2),u=i[0],b=i[1],m=Object(c.useState)(d.name),f=Object(l.a)(m,2),p=f[0],x=f[1],O=Object(c.useRef)(null),h=Object(j.b)(),v=function(e){O.current&&!O.current.contains(e.target)&&b(!1)};return Object(c.useEffect)((function(){return u&&document.addEventListener("mousedown",v),function(){document.removeEventListener("mousedown",v)}}),[u]),Object(s.jsxs)("div",{className:"column",children:[Object(s.jsxs)("div",{className:"colheader",children:[Object(s.jsx)("button",{onClick:function(){h(I({columnIndex:n}))},children:Object(s.jsx)("i",{className:"fa-regular fa-trash"})}),u?Object(s.jsx)("input",{ref:O,type:"text",value:d.name,onChange:function(e){h(y({columnIndex:n,name:p})),x(e.target.value)}}):Object(s.jsx)("h1",{onClick:function(){return b(!0)},children:d.name}),Object(s.jsx)("button",{onClick:function(){return h(C({columnIndex:n}))},children:Object(s.jsx)("i",{className:"fa-solid fa-plus"})})]}),Object(s.jsx)("div",{className:"cards",children:d.cards.map((function(e,c){return Object(s.jsx)(k,{cardIndex:c,onMoveLeft:t,onMoveRight:o,onEdit:a,columnIndex:n},c)}))})]})}),E=(t(39),function(){var e=Object(j.c)((function(e){return e.todo})),n=Object(j.b)();return Object(s.jsxs)("div",{className:"board",children:[e.columns.map((function(e,n){return Object(s.jsx)(S,{columnIndex:n,onMoveLeft:function(e){},onMoveRight:function(e){},onAddCard:function(){},onEdit:function(e){return function(e,n){console.log(e,n)}(e,n)}},n)})),Object(s.jsx)("div",{className:"addcol",onClick:function(){n(N({}))},children:Object(s.jsx)("i",{className:"fa-solid fa-plus"})})]})}),A=Object(f.a)({reducer:{todo:O}});var w=function(){return Object(s.jsx)(j.a,{store:A,children:Object(s.jsx)("div",{className:"App",children:Object(s.jsx)("div",{className:"background",children:Object(s.jsxs)(r.a,{children:[Object(s.jsx)(i.a,{path:"/",exact:!0,component:u}),Object(s.jsx)(i.a,{path:"/board",render:function(){return Object(s.jsx)(E,{})},exact:!0})]})})})})},D=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,c=n.getFID,o=n.getFCP,a=n.getLCP,d=n.getTTFB;t(e),c(e),o(e),a(e),d(e)}))};d.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(w,{})}),document.getElementById("root")),D()}},[[40,1,2]]]);
//# sourceMappingURL=main.674441c4.chunk.js.map